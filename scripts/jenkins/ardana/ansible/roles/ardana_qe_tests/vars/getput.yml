# The way getput reports test results is one line per test so in this case we have
# 6 lines and any failures are reported as a non-zero value in column 11. This
# almost never happens and the more interesting value is the IOPS which in
# in column 10, though I'm not sure if automation can/should deal with those
# sorts of numbers

ardana_qe_test_venv_requires:
  - 'python-subunit'

# if (( `grep 1k xxx | grep put | awk '{print $10}'|cut -f1 -d'.'` < 40 )); then grep 1k xxx|grep put; fi
ardana_qe_test_get_failed_cmd: "cat {{ ardana_qe_test_log }}"
ardana_qe_test_get_results_cmds:
  passed: "grep -v Test {{ ardana_qe_test_log }} | awk '{print $11}' | grep 0 | wc -l"
  failed: "grep -v Test {{ ardana_qe_test_log }} | awk '{print $11}' | grep -v 0 | wc -l"
  ran:    "grep -v Test {{ ardana_qe_test_log }} | wc -l"

